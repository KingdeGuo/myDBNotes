[toc]

# NoSQL数据存储模式

## 键值数据存储模式

- 设计原则以提高数据处理速度为第一目标
- 键值数据库的值由二进制大对象进行存储，这意味着任何类型的数据都可以保存，键值数据库无预先定义数据类型的要求。
- 需要注意的是，不同数据库对值有不同的约束，特别是值存储的大小上，不同数据库里的不同数据集对象的约束的不一样的，如Redis的一个String值，最大可以存储字节数为512MB。
- 命名空间是由值对所构成的集合。
- 常见的数据操作
  - Put
  - Get
  - Delete
- 键值存储特点
  - 优点
    - 简单
    - 快速
    - 高效计算
    - 分布式处理
  - 缺点
    - 多值查找功能很弱
    - 缺少约束，意味着更容易出错
    - 不易建立复杂关系



## 文档数据存储模式

- 文档数据库首先需要考虑的是读写性能，所以去掉了各种传统数据库规则的约束
- 带`{}`括号含义的若干个键值对的一个大字段被称之为一条文档。
- 文档数据库存储结构基本要素
  - 键值对
    - 基本键值对
    - 带结构键值对：例如嵌套文档
    - 多形结构键值对：不同文档里允许出现不同的键值对
  - 文档
    - 是对键值对所构成的有序集
  - 集合
    - 若干条文档构成的对象
  - 数据库
    - 文档数据库包含若干个集合
- 基本操作
  - Insert
  - Select
  - Update
  - Remove
- 文档存储的特点
  - 优点
    - 简单
    - 相对高效（相对于关系型）
    - 文档格式处理
    - 查询功能强大
    - 分布式处理
  - 缺点
    - 缺少约束
    - 数据出现冗余
    - 相当低效（相对于键值存储）



## 列族数据存储模式

- 列族数据库实现基本原理
  - 在数据库物理层
    - 传统型数据库以行为基本单位的磁盘记录模式，两条数据记录对应两个块，以行为单位进行读写。
    - 列族数据库以字段内容作为一个数据块记录在一起。以列列族为单位进行读写
  - 在数据库逻辑层面，采用稀疏矩阵。
- 基本要素
  - 名命空间
  - 行键（是虚的，只有逻辑关系）（还可以起到分区和排序作用）
  - 列族：由若干个列构成，目的是为了提高查询速度
  - 列：列的每个值都带有时间戳，通过时间戳来区分不同的版本
- 基本数据操作方式
  - 读
  - 写
  - 删除
- 特点
  - 擅长大数据处理
  - 对命名空间、行键、列族需要预先定义，列无需预先定义
  - 管理复杂，需要使用各种高效的工具
  - 查询功能相对丰富
  - 高密集写入处理能力



## 图存储模式

- 基本要素
  - 结点
  - 边
  - 属性
  - 图
- 图存储的特点
  - 各种图结构：无向图、有向图、流动网格图、二分图、多重图、加权图
  - 应用领域相对明确
  - 以单台服务器运行的图数据库为主
  - 图偏重于查找、统计、分析应用

