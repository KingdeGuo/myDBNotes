[toc]

# TRDB与NoSQL的技术比较

- 单机的局限性

  - 读、写数据的速度瓶颈
  - 单机存储数据量的有限问题
  - 单机指令间速度的细微区别
  - 安全行问题

- 服务器的扩充

  - 横向扩充
    - 使用多服务器
  - 纵向扩充
    - 物理高配置扩充
    - 基于内存的处理

- TRDB与NoSQL的比较

  | TRDB                       | NoSQL              |
  | -------------------------- | ------------------ |
  | 强数据存储模式             | 弱数据存储模式     |
  | 集中部署到一台物理机       | 分布式技术         |
  | 严格遵循ACID               | 主体遵循BASE原则   |
  | 遵循ACID                   | 没有统一操作       |
  | 基于单机的硬盘数据处理技术 | 分布式的或内存式的 |

- 引入分布式技术架构

  - 基本的服务通信架构

    在主从式结构中，Master负责Slave的注册、协调及分配任务等

    ![image-20210425205751494](https://raw.githubusercontent.com/KingdeGuo/myPictureBed/main/img_upload202104/25/205752-173463.png)

  - 帽子定理/CAP定理

    - 一致性

      指同一时刻，任何一个终端客户在每个结点都读到最新写入的数据；这里的核心要求至少两台服务器保持着一样的数据，一致性从客户角度是“读”，可以简单理解为同步数据复制功能。

    - 可用性

      一个运行的结点在合理的时间内总能响应更新要求，不会发生错误或者超时。可用性从客户角度是针对更新（插入、修改、删除），可以简单理解为满足随时更新操作功能。

    - 分区一致性

      当网络发生故障时，系统扔能继续持续响应客户读请求的能力。可以简单理解为满足随时读有效数据功能。

  - 具有完整的出错自适应功能

  - 具备分布式性能监管功能

  - BASE

    - 基本可用

      允许分布式系统中某些部分出现故障，那么系统的其他部分仍然可以工作

    - 软状态

      允许数据处理过程中出现数据状态暂时不一致的问题，但是经过纠错处理，最终会一致的。

    - 最终一致性

      软状态允许数据处理过程状态的暂时不一致，但最终处理结果将是一致的