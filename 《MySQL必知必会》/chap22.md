[toc]

# 使用视图

- 视图只包含使用时动态检索数据的查询。

- 作为视图，它不包含表中应该有的任何列或者数据，它包含的是一个SQL查询。

- 使用视图的理由

  - 重用SQL语句
  - 简化SQL操作
  - 使用表的组成部分而不是整个表
  - 保护数据
  - 更改数据格式和表示

- 使用大量的视图可能会导致性能下降，在部署前应该进行测试。

- 视图没有数量限制

- 为了创建视图，必须具有足够的访问权限

- 视图不能索引，也不能有关联的触发器或者默认值

- 视图可以和表一起使用。

- `create view`来创建视图。

- `show create view viewname`来显示建表语句。

  ![image-20210412131432260](https://raw.githubusercontent.com/KingdeGuo/myPictureBed/main/img_upload202104/12/131433-573797.png)

- 通常视图是可更新的，更新一个视图将更新其基表。如果对视图增加或者删除行，实级上是对其基表的增加或删除行。
- 但是并不是所有的视图都是可更新的，如果包含下面是成分，则不可以更新
  - 分组（`group by`，`having`）
  - 联结
  - 子查询
  - 并
  - 聚集函数（`min()`, `count()`, `sum()`等）
  - `distinct`
  - 导出列
- 一般，应将视图用于检索而不是更新。